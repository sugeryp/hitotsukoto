通信についての約束事を”プロトコル”という！　プロトコルの訳：協定

歴史：
　メーカーが違う端末同士で通信ができない→困る！→プロトコルを標準化しようぜ！→TCP/IP策定（OSI参照モデル）

TCP/IPの特徴：
　各層が独立して機能
　プロトコル標準化

標準化の恩恵：
　マルチベンダー環境で通信可能
　開発や拡張が用意
　説明・習得の簡略化


OSI参照モデル

アプリケーション層
　アプリケーションへのデータの提供方法を表現

プレゼンテーション層
　jpegとかmp3とかmp4とか異なるデータ形式から共通のデータ形式（転送形式）への変換を表現

セッション層
　転送形式に合わせて通信方法を決める

トランスポート
　データの分割と再組み立て

ネットワーク層
　経路決定

データリンク層
　媒体を通じて物理的な伝送を表現

物理層
　電圧、コネクタ形状等の物理的な情報を表現


TCP/IP

アプリケーション層（アプリケーション、プレゼンテーション、セッション）
　HTTP、FTP、SMTP、DNS、TELNET

トランスポート層（トランスポート）
　TCP、UDP

インターネット層（ネットワーク）
　IP、ICMP、ARP

ネットワークインターフェース層（データリンク、物理）
　Ethernet、PPP

通信はカプセル化を行い、物理層に流して行う。

カプセル化から伝送までの流れ
　データを作成し（アプリケーション層）、データをセグメントに分割（トランスポート層）、セグメントからパケットを作成し（ネットワーク層）、パケットからフレームを作成（データリンク層）、フレームからビットを作成し媒体に流す（物理層）。

ヘッダ：　各階層で頭にくっつける情報
トレーラ：　データリンク層で末尾にくっつける情報

伝送から非カプセル化の流れ
　ビットからフレームを作成し、ヘッダーとトレーラーを外してパケットを作成、パケットからヘッダーを外しセグメントを作成、セグメントからヘッダーを外しデータを作成し、アプリケーションに提供。


カプセル化、非カプセル化、伝送は同位層で同じプロトコルを使う。（同位層通信）

ユニキャスト：１対１
マルチキャスト：１対特定グループ　（マルチキャストのユースケース：動画配信）
ブローとキャスト：１対全員

8bitで表現できる最大値 1 + 2 + 4 + 8 + 16 + 32 + 64 +128 = 255
8bitでの10進数表現はIPアドレスを表現する際に使う。　10進数32bit
16進数表現はMACアドレスを表現する際に使う。 16進数48bit


LAN：
　特定の敷地内で動作するネットワーク

LANのメリット：
　ランニングコストが発生しない
　自由な構成
LANのデメリット：
　自分で構築

WAN：
　離れた拠点間を接続するネットワーク

WANのメリット：
　プロバイダが準備

WANのデメリット：
　ランニングコストが発生。
　色々なサービスがあるが、プロバイダが決める。


法律の要件で、同じ会社の隣のビル同士でも自分の敷地外を通る場合はWANで通す必要がある。

LANの作り方：
規格：
　IEEE802.3規格, EthernetⅡ規格
IEEE802.3のイーサネットフレーム：
 ヘッダー：
　宛先アドレス/送信元アドレス
　長さ：データフィールの長さ
 トレーラー：
　FCSまたはCRC：　Frame Check Sequence

NIC（物理層）：
　Network Interface Card、RJ45規格のコネクタを結線する。世界で唯一のMACアドレスが振られている。

イーサネットの規格（物理）：
　
　1000BASE-T：　1000Mbspのベースバンド伝送用でツイストペアケーブル（ツイストペアケーブルは100mまで）
　10BASE5: 10Mbpsのベースバンド伝送用で500mまで（表記なければ同軸ケーブル）

MDIポート：　PX,ルータ
MDI-Xポート：　スイッチ、ハブ

ストレートケーブル：　MDIポート-MDI-Xポート間をつなぐ
クロスケーブル： MDIポート同士、MDI-Xポート同士をつなぐ

Auto MDI-X：　MDIポートとMDI-Xポートを自動で切り替えるポートの機能

ハブ・リピータ：
　物理層の集線装置：電気信号を増幅して送り出す機能、シンプル
　全てブロードキャスト通信
　コリジョンが発生：　CSMA/CA　という回避のためのコリジョン回避のためのプロトコルが生まれた
　ハブはポート数が２つ以上
　リピータはポート数が２つ、敷設距離を稼ぎたい時に使う
　コリジョンドメイン：ドメイン（範囲というそのままの意味）、途中にハブが存在するネットワークの端末間でどこでも起こり得るので、コリジョンドメインは１つ
　ブロードキャストドメイン：全部に届くのでハブ・リピータで結ばれる端末間、全体で１つ
　
スイッチ：
　通信を制御するデータリンク層の装置：　MACアドレステーブルを使用して特定の端末へフレームを送り出す。
　ユニキャスト、マルチキャスト、ブロードキャスト通信が可能
　コリジョンは発生しない
　ブロードキャストドメイン：全部に届くのでハブ・リピータで結ばれる端末間、全体で１つ

MACアドレス：
　数値の意味：
　　先頭６桁(24bit)：ベンダーコード
　　後半６桁(24bit)：シリアルコード

フラッディングとフィルタリング

スイッチへのMACアドレス登録：
　Dynamic:　通信時に自動で登録
　　エージングアウト：一定時間登録されないとMACアドレスが削除される
　　　エージングタイマー：エージングアウトまでの時間
　Static：　手動登録、エージングアウトなし
　確認コマンド：　show mac address-table
